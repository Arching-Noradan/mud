stages:
        - generate
        - build
        - checks

cache:
        key: ${CI_BUILD_REF}
        untracked: true

generate:
        script:
                - mkdir build
                - cd build
                - cmake ..
        stage: generate

build:
        script:
                - pwd
                - cd build
                - camke --build .
        stage: build

check:
        script:
                - pwd
                - cd build
                - cmake --build . --target checks
        stage: checks
